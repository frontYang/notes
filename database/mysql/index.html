<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL 学习笔记 | YNOTE</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Front-end personal notes">
    
    <link rel="preload" href="/notes/assets/css/0.styles.9218c62b.css" as="style"><link rel="preload" href="/notes/assets/js/app.e0e3d082.js" as="script"><link rel="preload" href="/notes/assets/js/2.0959374c.js" as="script"><link rel="preload" href="/notes/assets/js/7.20e9b0e0.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.84eed784.js"><link rel="prefetch" href="/notes/assets/js/11.8a0d0835.js"><link rel="prefetch" href="/notes/assets/js/12.75633485.js"><link rel="prefetch" href="/notes/assets/js/13.2370e08a.js"><link rel="prefetch" href="/notes/assets/js/14.d7bc7ff4.js"><link rel="prefetch" href="/notes/assets/js/15.62bc4960.js"><link rel="prefetch" href="/notes/assets/js/16.7357c1df.js"><link rel="prefetch" href="/notes/assets/js/17.1eeafda7.js"><link rel="prefetch" href="/notes/assets/js/18.728ebc0c.js"><link rel="prefetch" href="/notes/assets/js/19.57b75972.js"><link rel="prefetch" href="/notes/assets/js/20.faa200fc.js"><link rel="prefetch" href="/notes/assets/js/21.3397241e.js"><link rel="prefetch" href="/notes/assets/js/22.014d9538.js"><link rel="prefetch" href="/notes/assets/js/23.4c2f6f7e.js"><link rel="prefetch" href="/notes/assets/js/24.d8d40441.js"><link rel="prefetch" href="/notes/assets/js/25.45ba08a7.js"><link rel="prefetch" href="/notes/assets/js/26.17816977.js"><link rel="prefetch" href="/notes/assets/js/27.bc8f8857.js"><link rel="prefetch" href="/notes/assets/js/28.b98ff412.js"><link rel="prefetch" href="/notes/assets/js/29.af6e04a3.js"><link rel="prefetch" href="/notes/assets/js/3.2bec8b40.js"><link rel="prefetch" href="/notes/assets/js/30.aa8fc462.js"><link rel="prefetch" href="/notes/assets/js/31.a0c6bd5a.js"><link rel="prefetch" href="/notes/assets/js/32.23f33eb8.js"><link rel="prefetch" href="/notes/assets/js/33.46076eff.js"><link rel="prefetch" href="/notes/assets/js/34.d67d65cf.js"><link rel="prefetch" href="/notes/assets/js/35.dd003770.js"><link rel="prefetch" href="/notes/assets/js/36.f4ae558d.js"><link rel="prefetch" href="/notes/assets/js/37.d1ed2784.js"><link rel="prefetch" href="/notes/assets/js/38.b8e5af04.js"><link rel="prefetch" href="/notes/assets/js/39.4bebe0bb.js"><link rel="prefetch" href="/notes/assets/js/4.52c1fa6a.js"><link rel="prefetch" href="/notes/assets/js/40.f8edb45e.js"><link rel="prefetch" href="/notes/assets/js/41.c6afbacc.js"><link rel="prefetch" href="/notes/assets/js/42.f17f95b9.js"><link rel="prefetch" href="/notes/assets/js/43.f49b43ba.js"><link rel="prefetch" href="/notes/assets/js/44.b4ea71f3.js"><link rel="prefetch" href="/notes/assets/js/45.9940fa62.js"><link rel="prefetch" href="/notes/assets/js/46.c7668f9e.js"><link rel="prefetch" href="/notes/assets/js/47.fc66fbe3.js"><link rel="prefetch" href="/notes/assets/js/48.9fdb5a19.js"><link rel="prefetch" href="/notes/assets/js/49.470aa2d5.js"><link rel="prefetch" href="/notes/assets/js/5.4328754f.js"><link rel="prefetch" href="/notes/assets/js/50.01d3055b.js"><link rel="prefetch" href="/notes/assets/js/51.2e704238.js"><link rel="prefetch" href="/notes/assets/js/52.dc9c3f98.js"><link rel="prefetch" href="/notes/assets/js/53.717d5128.js"><link rel="prefetch" href="/notes/assets/js/54.ffcee738.js"><link rel="prefetch" href="/notes/assets/js/55.7a3e5ee2.js"><link rel="prefetch" href="/notes/assets/js/56.c2b9f462.js"><link rel="prefetch" href="/notes/assets/js/57.7a8cd832.js"><link rel="prefetch" href="/notes/assets/js/6.06d7b0d9.js"><link rel="prefetch" href="/notes/assets/js/8.0f7a3b5b.js"><link rel="prefetch" href="/notes/assets/js/9.9c3d7d5a.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.9218c62b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><!----> <span class="site-name">YNOTE</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link">
  缘起
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link">
  缘起
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/notes/" aria-current="page" class="sidebar-link">缘起</a></li><li><a href="/notes/guide.html" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>js设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>第三方sdk</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/database/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/notes/database/mysql/" aria-current="page" class="active sidebar-link">MySQL 学习笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/database/mysql/#数据库分类" class="sidebar-link">数据库分类</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#可视化软件-sqlyog" class="sidebar-link">可视化软件  SQLyog</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#操作数据库" class="sidebar-link">操作数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/database/mysql/#连接数据库" class="sidebar-link">连接数据库</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#操作数据库-了解" class="sidebar-link">操作数据库（了解）</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#数据库的列类型" class="sidebar-link">数据库的列类型</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#数据库的字段属性-重点" class="sidebar-link">数据库的字段属性（重点）</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#数据库表的类型" class="sidebar-link">数据库表的类型</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#修改和删除表" class="sidebar-link">修改和删除表</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#mysql的数据管理" class="sidebar-link">MySQL的数据管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/database/mysql/#外键-了解" class="sidebar-link">外键（了解）</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#dml语言-记住" class="sidebar-link">DML语言（记住）</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#添加" class="sidebar-link">添加</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#修改" class="sidebar-link">修改</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#删除" class="sidebar-link">删除</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#dql查询数据-最重点" class="sidebar-link">DQL查询数据(最重点)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/database/mysql/#dql" class="sidebar-link">DQL</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#指定查询字段" class="sidebar-link">指定查询字段</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#where-条件子句" class="sidebar-link">where 条件子句</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#联表查询" class="sidebar-link">联表查询</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#分页和排序" class="sidebar-link">分页和排序</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#子查询" class="sidebar-link">子查询</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#分组和过滤" class="sidebar-link">分组和过滤</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#mysql函数" class="sidebar-link">MySql函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/database/mysql/#基本函数" class="sidebar-link">基本函数</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#聚合函数-常用" class="sidebar-link">聚合函数（常用）</a></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#数据库级别的md5加密-扩展" class="sidebar-link">数据库级别的MD5加密（扩展）</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/database/mysql/#事务" class="sidebar-link">事务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/database/mysql/#什么是事务" class="sidebar-link">什么是事务</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>取经阁</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>疯言疯语</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysql-学习笔记"><a href="#mysql-学习笔记" class="header-anchor">#</a> MySQL 学习笔记</h1> <p><a href="https://www.bilibili.com/video/BV1NJ411J79W" target="_blank" rel="noopener noreferrer">通过视频学习所记<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>思考：</p> <p>为什么要学习数据库？</p> <p>什么是数据库？</p> <hr> <h2 id="数据库分类"><a href="#数据库分类" class="header-anchor">#</a> 数据库分类</h2> <p><strong>关系型数据库：</strong>(SQL)</p> <ul><li>MySQL、Oracle、Sql Server、DB2、SQLlite</li> <li>通过表和表之间，行和列之间的关系进行数据的存储</li></ul> <p><strong>非关系型数据库：</strong>(NoSQL)  Not Only</p> <ul><li>Redis，MongDB</li> <li>非关系型数据库，对象存储，通过对象的自身的属性来决定</li></ul> <p><strong>DBMS(数据库管理系统)</strong></p> <ul><li>数据库的管理软件，科学有效的管理我们的数据。维护和获取数据</li> <li>MySQL ，数据库管理系统</li></ul> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p>MySQL是一个关系型数据库管理系统</p> <p>由瑞典MySQL AB 公司开发，属于 <a href="https://baike.baidu.com/item/Oracle" target="_blank" rel="noopener noreferrer">Oracle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 旗下产品</p> <p>在 WEB 应用方面，MySQL是最好的 <a href="https://baike.baidu.com/item/RDBMS/1048260" target="_blank" rel="noopener noreferrer">RDBMS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (Relational Database Management System，关系数据库管理系统) 应用软件之一</p> <p>开源</p> <p>体积小、速度快、总体拥有成本低</p> <p><a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <p><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener noreferrer">下载地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>1、解压</p> <p>2、将包放到自己的电脑环境目录下</p> <p>3、添加到环境变量</p> <p>4、在根目录下新建MySQL核心配置文件 <code>my.ini</code></p> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token selector">[mysqlld]</span>
<span class="token comment"># 目录换成自己的</span>
<span class="token constant">basedir</span><span class="token attr-value"><span class="token punctuation">=</span>D:\dev\mysql-8.0.20\</span>
<span class="token constant">datadir</span><span class="token attr-value"><span class="token punctuation">=</span>D:\dev\mysql-8.0.20\data\</span>
<span class="token constant">port</span><span class="token attr-value"><span class="token punctuation">=</span>3306</span>

<span class="token comment">#跳过秘密验证</span>
skip-grant-tables
</code></pre></div><p>5、启动管理员模式下的CMD，运行所有的命令</p> <p>6、安装mysql服务 <code>mysqld -install</code>，tip：该命令遇到的问题，报错，缺少 vcruntime140_1.dll，根据<a href="https://www.cnblogs.com/zfy-220/p/12313007.html" target="_blank" rel="noopener noreferrer">这个篇文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>安装了一个运行库解决</p> <p>7、初始化数据库文件 <code>mysqld –-initialize-insecure --user=mysql</code></p> <p>8、启动mysql，进去修改密码 <code>net start mysql</code>，tip：出现错误， &quot;'net'不是内部或外部命令，也不是可运行的程序或批处理文件&quot; ， 解决方法：
我的电脑-&gt;右键-&gt;属性-&gt;高级-&gt;环境变量-&gt;系统变量-&gt;Path，再点“编辑”就可以了。在“变量值”对话框里面加“C:\windows\system32“，这是cmd.exe存在的路径，然后点确定就可以了。</p> <p>9、进入mysql通过命令行<code>mysql -u root -p</code>，修改密码（sql语句后面一定要加分号）</p> <p>mysql8以前的版本修改密码：<code>update mysql.user set authentication_string=password('123456') where user='root' and Host='localhost';</code></p> <p>mysql8修改密码：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 参考：https://blog.csdn.net/Tong_zhi/article/details/84716210</span>
<span class="token keyword">use</span> mysql
<span class="token keyword">select</span> host<span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token punctuation">,</span> authentication_string<span class="token punctuation">,</span> plugin <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> identified <span class="token keyword">by</span> <span class="token string">'newpassword'</span><span class="token punctuation">;</span> <span class="token comment">-- 修改密码</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span> <span class="token comment">--刷新权限</span>
</code></pre></div><p>10、注释ini中的跳过密码</p> <p>11、重启mysql，链接测试，如果链接成功则ok了</p> <div class="language- extra-class"><pre class="language-text"><code>net stop mysql
net start mysql
</code></pre></div><h2 id="可视化软件-sqlyog"><a href="#可视化软件-sqlyog" class="header-anchor">#</a> 可视化软件  SQLyog</h2> <div class="language- extra-class"><pre class="language-text"><code>练习：
新建一个数据库 school
新建一张表 student
字段：id,name,age

1、在右侧root@localhost右键 =&gt; 新建数据库 =&gt; 命名school =&gt; utf8 =&gt; utf8_general_ci
2、在school数据库下的表右键 =&gt; 创建表 =&gt; 命名student  =&gt; utf8 =&gt; utf8_general_ci
3、填写列，保存
4、在school数据库下的表右键 =&gt; 打开表 =&gt; 填写表数据 =&gt; 刷新保存变更
</code></pre></div><h2 id="操作数据库"><a href="#操作数据库" class="header-anchor">#</a> 操作数据库</h2> <h3 id="连接数据库"><a href="#连接数据库" class="header-anchor">#</a> 连接数据库</h3> <p>命令行连接：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p123456 <span class="token comment">--连接数据库</span>
<span class="token comment">--------</span>
<span class="token comment">-- 所有的语句都用分号结尾</span>
<span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span> <span class="token comment">-- 查看所有的数据库</span>

<span class="token keyword">use</span> school <span class="token comment">-- 切换数据库 use 数据库名</span>

<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span> <span class="token comment">-- 查看数据库中所有的表</span>
<span class="token keyword">describe</span> student<span class="token punctuation">;</span> <span class="token comment">-- 显示数据库中所有的表信息</span>

<span class="token keyword">create</span> <span class="token keyword">database</span> westos<span class="token punctuation">;</span> <span class="token comment">-- 创建一个数据库</span>

<span class="token keyword">exit</span><span class="token punctuation">;</span> <span class="token comment">-- 退出连接</span>

<span class="token comment">-- 单行注释（sql的本身注释）</span>
<span class="token comment">/*
	sql的多行注释
*/</span>  
</code></pre></div><p><strong>数据库XXX语言</strong>，CRUD 增删改查</p> <p>DDL：数据库定义语言</p> <p>DML：数据库管理语言</p> <p>DQL：数据库查询语言</p> <p>DCL：数据库控制语言</p> <h3 id="操作数据库-了解"><a href="#操作数据库-了解" class="header-anchor">#</a> 操作数据库（了解）</h3> <p>操作数据库 =&gt; 操作数据库中的表 =&gt; 操作数据库中表的数据</p> <p>mysql关键字不区分大小写</p> <p>1、创建数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> 数据库名<span class="token punctuation">;</span>
</code></pre></div><p>2、删除数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> 数据库名
</code></pre></div><p>3、使用数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">USE</span> 数据库名
<span class="token comment">-- 如果表名或字段名是一个特殊字符，需要用反引号 `` 包含</span>
</code></pre></div><p>4、查看数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span> <span class="token comment">--查看所有的数据库</span>
</code></pre></div><h3 id="数据库的列类型"><a href="#数据库的列类型" class="header-anchor">#</a> 数据库的列类型</h3> <blockquote><p>数值</p></blockquote> <ul><li><p>tinyint：十分小的数据，1个字节</p></li> <li><p>smallint：较小的数据，2个字节</p></li> <li><p>middleint：中等大小的数据，3个字节</p></li> <li><p><strong>init：标准的整数，4个字节</strong>  （常用）</p></li> <li><p>big：较大的数据，8个字节</p></li> <li><p>float：浮点数，4个字节</p></li> <li><p>double：浮点数，8个字节</p></li> <li><p>decimal：字符串形式的浮点数，金融计算的时候一般使用</p></li></ul> <blockquote><p>字符串</p></blockquote> <ul><li>char：字符串固定大小的， 0~255</li> <li><strong>varchar：可变字符串， 0-65535</strong>（常用）</li> <li>tinytext：微型文本， 2^8 - 1</li> <li><strong>text：文本串， 2^16 - 1</strong>  （保存大文本）</li></ul> <blockquote><p>时间日期</p></blockquote> <ul><li>date：YYYY-MM-DD，日期格式</li> <li>time：HH-mm-ss，时间格式</li> <li><strong>datetime：YYYY-MM-DD HH-mm-ss</strong>   (最常用的时间格式)</li> <li><strong>timestamp：时间戳，1970/01/01到现在的毫秒数</strong> (也较为常用)</li> <li>year：年份</li></ul> <blockquote><p>null</p></blockquote> <ul><li>没有值，未知</li> <li>注意，不要是用NULL进行运算，结果为NULL</li></ul> <h3 id="数据库的字段属性-重点"><a href="#数据库的字段属性-重点" class="header-anchor">#</a> 数据库的字段属性（重点）</h3> <p>Unsigned:</p> <ul><li>无符号的整数</li> <li>声明了该列不能声明为负数</li></ul> <p>zerofill：</p> <ul><li>0填充的</li> <li>不足的位数使用0来填充，例如：int(3) =&gt; 5 =&gt; 005</li></ul> <p>自增：</p> <ul><li>通常理解为自增，自动在上一条记录的基础上 +1 (默认)</li> <li>通常用来设计唯一的主键 index，必须是整数类型</li> <li>也可以自定设计主键的自增起始值</li></ul> <p>非空： NULL not null</p> <ul><li>假设勾选了非空，如果不给它赋值就会报错</li> <li>NULL，如果不填写值，默认是就是null</li></ul> <p>默认：</p> <ul><li>设置默认值</li> <li>例如：gender，默认值：女，如果不指定该列的值，则会使用默认的值</li></ul> <p>拓展：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 每一个表都必须存在以下加个字段：</span>
id 主键
<span class="token punctuation">`</span>version<span class="token punctuation">`</span> 乐观锁
is_delete 伪删除
gmt_create 创建时间
gmt_update 修改时间
</code></pre></div><p>创建数据库表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 注意点：使用英文括号，表的名称和字段尽量使用 ``括起来</span>
<span class="token comment">-- AUTO_INCREMENT 自增</span>
<span class="token comment">-- 字符串使用 单引号括起来</span>
<span class="token comment">-- 所有的语句后面加英文逗号，最后一个不用加</span>
<span class="token comment">-- 一般一个表只有一个唯一的组件</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token punctuation">(</span>
    <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'学号'</span><span class="token punctuation">,</span>  
    <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'匿名'</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>pwd<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'123456'</span> <span class="token keyword">COMMENT</span> <span class="token string">'密码'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>gender<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'男'</span> <span class="token keyword">COMMENT</span> <span class="token string">'性别'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>birthday<span class="token punctuation">`</span> <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'出生日期'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>address<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'家庭住址'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>email<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'邮箱'</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>	
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8
</code></pre></div><p>格式</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>表名<span class="token punctuation">`</span><span class="token punctuation">(</span>
	<span class="token string">'字段名'</span> 列类型 <span class="token punctuation">[</span>属性<span class="token punctuation">]</span> <span class="token punctuation">[</span>索引<span class="token punctuation">]</span> <span class="token punctuation">[</span>注释<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'字段名'</span> 列类型 <span class="token punctuation">[</span>属性<span class="token punctuation">]</span> <span class="token punctuation">[</span>索引<span class="token punctuation">]</span> <span class="token punctuation">[</span>注释<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token string">'字段名'</span> 列类型 <span class="token punctuation">[</span>属性<span class="token punctuation">]</span> <span class="token punctuation">[</span>索引<span class="token punctuation">]</span> <span class="token punctuation">[</span>注释<span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">[</span>表类型<span class="token punctuation">]</span><span class="token punctuation">[</span>字符集设置<span class="token punctuation">]</span><span class="token punctuation">[</span>注释<span class="token punctuation">]</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查看数据库的语句</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> 数据库名

<span class="token comment">-- 查看数据表的定义语句</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名

<span class="token comment">-- 显示表的结构</span>
<span class="token keyword">DESC</span> 表名
</code></pre></div><h3 id="数据库表的类型"><a href="#数据库表的类型" class="header-anchor">#</a> 数据库表的类型</h3> <p><strong>数据库引擎</strong></p> <p>MyISAM和InnoDB的区别</p> <p>InnoDB 默认使用</p> <p>MyISAM 早些年使用</p> <table><thead><tr><th></th> <th>MyISAM</th> <th>InnoDB</th></tr></thead> <tbody><tr><td>事务支持</td> <td>不支持</td> <td>支持</td></tr> <tr><td>数据行锁定</td> <td>不支持</td> <td>支持</td></tr> <tr><td>外键</td> <td>不支持</td> <td>支持</td></tr> <tr><td>全文检索</td> <td>支持</td> <td>不支持</td></tr> <tr><td>表空间的大小</td> <td>较小</td> <td>较大，约为MyISAM的2倍</td></tr></tbody></table> <p>常规的使用操作：</p> <ul><li>MyISAM：节约空间，速度较快</li> <li>InnoDB：安全性高，支持事务的处理，多表多用户操作</li></ul> <blockquote><p>在物理空间存在的位置</p></blockquote> <p>所有的数据库文件都存在 <code>data</code>目录下，一个文件夹就对应一个数据库</p> <p>本质还是文件的存储</p> <p>MySQL引擎在物理文件上的区别</p> <ul><li>InnoDB 在数据库表中只有一个<code>*.frm</code>文件，8.0以上是 <code>*.idb</code>文件，以及上级目录下的<code>ibdata1</code>文件</li> <li>MyISAM 对应的文件
<ul><li><code>*.frm</code>文件，8.0以上是<code>*.sdi</code>：表结构定义的文件</li> <li><code>*.MYD</code>，数据文件 (data)</li> <li><code>*.MYI</code>，索引文件 (index)</li></ul></li></ul> <blockquote><p>设置数据库表的字符编码</p></blockquote> <div class="language-sqp extra-class"><pre class="language-text"><code>CHARSET=utf8
</code></pre></div><p>如果不设置，会是mysql默认的字符编码 （不支持中文）</p> <p>MySQL的默认编码是Latin1，不支持中文</p> <p>在my.ini 中配置默认的编码</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">character</span><span class="token operator">-</span><span class="token keyword">set</span><span class="token operator">-</span>server<span class="token operator">=</span>utf8
</code></pre></div><h3 id="修改和删除表"><a href="#修改和删除表" class="header-anchor">#</a> 修改和删除表</h3> <blockquote><p>修改</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 修改表名</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 旧表名 <span class="token keyword">RENAME</span> <span class="token keyword">AS</span> 新表名

<span class="token comment">-- 添加字段</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> 字段名 列属性

<span class="token comment">-- 修改表的字段(修改约束)</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">MODIFY</span> 字段名 列属性

<span class="token comment">-- 修改表的字段（字段重命名）</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 CHANGE 旧字段名 新字段名 列属性

<span class="token comment">-- 删除表的字段</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> 字段名
</code></pre></div><blockquote><p>删除</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 删除表（如果存在再删除）</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> 表名
</code></pre></div><p>==所有的创建和删除操作尽量加上判断，以免报错==</p> <p>注意点：</p> <ul><li>所有的字段名使用 `` 包裹</li> <li>注释：--，/**/</li> <li>sql 关键字大小写不敏感，建议写小写</li> <li>所有的符号全部用中文</li></ul> <h2 id="mysql的数据管理"><a href="#mysql的数据管理" class="header-anchor">#</a> MySQL的数据管理</h2> <h3 id="外键-了解"><a href="#外键-了解" class="header-anchor">#</a> 外键（了解）</h3> <blockquote><p>方式一：在创建表的时候增加约束（麻烦，比较复杂）</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>grade<span class="token punctuation">`</span> <span class="token punctuation">(</span>
    <span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'年级id'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>gradename<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'年级名称'</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8

<span class="token comment">-- 学生表的 gradeid 字段要去引用年级表的 gradeid</span>
<span class="token comment">-- 定义外键key</span>
<span class="token comment">-- 给这个外键添加约束</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token punctuation">(</span>
    <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'学号'</span><span class="token punctuation">,</span>  
    <span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'学生年级'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'匿名'</span> <span class="token keyword">COMMENT</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>pwd<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'123456'</span> <span class="token keyword">COMMENT</span> <span class="token string">'密码'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>gender<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'男'</span> <span class="token keyword">COMMENT</span> <span class="token string">'性别'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>birthday<span class="token punctuation">`</span> <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'出生日期'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>address<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'家庭住址'</span><span class="token punctuation">,</span>
    <span class="token punctuation">`</span>email<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'邮箱'</span><span class="token punctuation">,</span>
    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">KEY</span> <span class="token punctuation">`</span>FK_gradeid<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">`</span>FK_gradeid<span class="token punctuation">`</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token punctuation">`</span>grade<span class="token punctuation">`</span> <span class="token punctuation">(</span>gradeid<span class="token punctuation">)</span>    
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8
</code></pre></div><p>删除有外键关系的表的时候，必须要先删除引用别人的表（从表），再删除被引用的表（主表）</p> <blockquote><p>方式二：创建表成功后，添加外键约束</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- ALTER TABLE `主表名` ADD CONSTRAINT `约束名` FOREIGN KEY (`字段名`) REFERENCES `从表名` (`字段名`);</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> 
<span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">`</span>FK_gradeid<span class="token punctuation">`</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>gradeid<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token punctuation">`</span>grade<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>gradeid<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>以上的操作都是物理外键，数据库级别的外键，不建议使用！（避免数据库过多造成的困扰，只做了解）</p> <p>==最佳实践==</p> <ul><li>数据库就是单纯的表，只用来存数据，只有行（数据）和列（字段）</li> <li>想使用多张表的数据或外键（程序去实现）</li></ul> <h3 id="dml语言-记住"><a href="#dml语言-记住" class="header-anchor">#</a> DML语言（记住）</h3> <p><strong>数据库的意义</strong>：数据存储，数据管理</p> <p>DML语言：数据操作语言</p> <ul><li><p>insert</p></li> <li><p>update</p></li> <li><p>delete</p></li></ul> <h3 id="添加"><a href="#添加" class="header-anchor">#</a> 添加</h3> <blockquote><p>insert</p></blockquote> <p>语法：==insert into 表名([字段1,字段2...]) values (值1),(值2...)==</p> <div class="language- extra-class"><pre class="language-text"><code>-- 插入语句 insert
-- insert into 表名([字段1,字段2...]) values (值1),(值2...)
-- 一般写插入语句，一定要数据和字段一一对应
INSERT INTO `grade`(`gradename`) VALUES('大四')

-- 插入多个字段
INSERT INTO `grade`(`gradename`) VALUES('大一'),('大二'),('大三')

INSERT INTO `student`(`name`,`pwd`,`gender`) 
VALUES('张三','1111','男')

INSERT INTO `student`(`name`,`pwd`,`gender`) 
VALUES('李四','1111','男')
</code></pre></div><p>==注意事项==：</p> <ul><li>字段与字段之间使用英文逗号隔开</li> <li>字段是可以省略的，但是后面的值必须一一对应，不能少</li> <li>可以同时插入多条数据，VALUES后面的值需要使用逗号隔开 ==VALUES(),()...==</li></ul> <h3 id="修改"><a href="#修改" class="header-anchor">#</a> 修改</h3> <blockquote><p>update</p></blockquote> <p>语法：==UPDATE <code>表名</code> SET <code>字段名</code>=值 ,[<code>字段名</code>=值 ],[<code>字段名</code>=值 ]... WHERE 条件==</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 修改学名名字，带条件，如果不指定条件，会改动所有的表</span>
<span class="token keyword">UPDATE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">SET</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">'王五'</span> <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span>

<span class="token comment">-- 修改多个属性，逗号隔开</span>
<span class="token keyword">UPDATE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">SET</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">'王五'</span><span class="token punctuation">,</span><span class="token punctuation">`</span>email<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">'10101010'</span> <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span>
</code></pre></div><p>条件：where子句运算符 id等于某个值，大雨某个值，在某个区间内修改，返回布尔值</p> <table><thead><tr><th>操作符</th> <th>含义</th> <th>案例</th> <th>结果</th></tr></thead> <tbody><tr><td>=</td> <td>等于</td> <td>1=2</td> <td>false</td></tr> <tr><td>&lt;&gt; 或者 !=</td> <td>不等于</td> <td>1&lt;&gt;2</td> <td>true</td></tr> <tr><td>&gt;</td> <td>大于</td> <td>1 &gt; 2</td> <td>false</td></tr> <tr><td>&lt;</td> <td>小于</td> <td>1&lt;2</td> <td>true</td></tr> <tr><td>&gt;=</td> <td>大于等于</td> <td>1&gt;=2</td> <td>false</td></tr> <tr><td>&lt;=</td> <td>小于等于</td> <td>1&lt;=2</td> <td>true</td></tr> <tr><td>BETWEEN... AND ...</td> <td>在某个区间</td> <td>2 BEETWEEN 2 AND 5</td> <td>true</td></tr> <tr><td>AND</td> <td>并</td> <td>5 AND1</td> <td></td></tr> <tr><td>OR</td> <td>或</td> <td>5 OR 1</td> <td></td></tr></tbody></table> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 通过多个条件定位数据</span>
<span class="token keyword">UPDATE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> <span class="token keyword">SET</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">'王五'</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">'王五'</span> <span class="token operator">AND</span> <span class="token punctuation">`</span>gender<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">'女'</span>
</code></pre></div><p>语法：==UPDATE <code>表名</code> SET <code>字段名</code>=值,[<code>字段名</code>=值...] WHERE [条件]==</p> <p>==注意==：</p> <ul><li>字段名尽量用 `` 包含</li> <li>条件，筛选的条件，如果没有指定，则会修改所有的列</li> <li>值可以是一个变量</li> <li>多个设置的属性之间，使用英文逗号隔开</li></ul> <h3 id="删除"><a href="#删除" class="header-anchor">#</a> 删除</h3> <blockquote><p>delete</p></blockquote> <p>语法：==DELETE FROM <code>表名</code> [WHERE条件]==</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 删除数据（避免这样写，会全部删除）</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span> 

<span class="token comment">-- 删除指定数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>  <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span>
</code></pre></div><blockquote><p>truncate 命令</p></blockquote> <p>作用：完全清空一个数据库表，表的结构和索引约束不会变</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 清空表</span>
<span class="token keyword">TRUNCATE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
</code></pre></div><blockquote><p>delete 和 truncate 的区别</p></blockquote> <ul><li>相同点：都能删除数据，而且都不会删除表结构</li> <li>不同点：
<ul><li>truncate 会重新设置自增列，计数器会归零</li> <li>truncate 不会影响事务</li></ul></li></ul> <p>了解即可：==delete删除的问题==，重启数据库现象</p> <ul><li>InnoDB 自增列会从1开始（存在内存中，断电即失）</li> <li>MyISAM，继续从上一个自增量开始（存在文件中，不会丢失）</li></ul> <h2 id="dql查询数据-最重点"><a href="#dql查询数据-最重点" class="header-anchor">#</a> DQL查询数据(最重点)</h2> <h3 id="dql"><a href="#dql" class="header-anchor">#</a> DQL</h3> <p>(Data Query Language,数据查询语言)</p> <ul><li>所有的查询操作都用Select</li> <li>简单的查询，复杂的查询它都能做</li> <li>==数据库中最核心的语言，最重要的语句==</li> <li>使用频率最高的语句</li></ul> <blockquote><p>select 语法</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span> <span class="token operator">|</span> <span class="token keyword">DISTINCT</span><span class="token punctuation">]</span>
{<span class="token operator">*</span><span class="token operator">|</span><span class="token keyword">table</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token keyword">table</span><span class="token punctuation">.</span>filed1<span class="token punctuation">[</span><span class="token keyword">as</span> alias1<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token keyword">table</span><span class="token punctuation">.</span>filed2<span class="token punctuation">[</span><span class="token keyword">as</span> alias2<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>}
<span class="token keyword">FROM</span> table_name <span class="token punctuation">[</span><span class="token keyword">as</span> table_alias<span class="token punctuation">]</span>
	<span class="token punctuation">[</span><span class="token keyword">left</span> <span class="token operator">|</span> <span class="token keyword">right</span> <span class="token operator">|</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> table_name2<span class="token punctuation">]</span> <span class="token comment">-- 联合查询</span>
	<span class="token punctuation">[</span><span class="token keyword">WHERE</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token comment">-- 指定结果需要满足的条件</span>
	<span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token comment">--- 指定结果按照哪几个字段来分组</span>
	<span class="token punctuation">[</span><span class="token keyword">HAVING</span><span class="token punctuation">]</span> <span class="token comment">-- 过滤分组的记录必须满足的次要条件</span>
	<span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token comment">-- 指定查询记录按一个或多个条件排序</span>
	<span class="token punctuation">[</span><span class="token keyword">LIMIT</span> {<span class="token punctuation">[</span><span class="token keyword">offset</span><span class="token punctuation">,</span><span class="token punctuation">]</span>row_count <span class="token operator">|</span> row_countOFFSET <span class="token keyword">offset</span>}<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">-- 指定查询的记录从哪条至哪条</span>
</code></pre></div><h3 id="指定查询字段"><a href="#指定查询字段" class="header-anchor">#</a> 指定查询字段</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询全部的学生</span>
<span class="token comment">-- SELECT * FROM 表名</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student

<span class="token comment">-- 查询指定字段</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>StudentName<span class="token punctuation">`</span> <span class="token keyword">FROM</span> student

<span class="token comment">-- 别名，给结构起一个名字， AS, 可以给字段起别名，也可以给表起别名</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span> <span class="token keyword">AS</span> 学号<span class="token punctuation">,</span><span class="token punctuation">`</span>StudentName<span class="token punctuation">`</span> <span class="token keyword">AS</span> 学生名字 <span class="token keyword">FROM</span> student <span class="token keyword">AS</span> s

<span class="token comment">-- 函数 Concat (a,b)</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'姓名：'</span><span class="token punctuation">,</span> StudentName<span class="token punctuation">)</span> <span class="token keyword">AS</span> 新名字 <span class="token keyword">FROM</span> student
</code></pre></div><p>语法：==SELECT  字段,... FROM 表==</p> <blockquote><p>有时候，列名字不是那么见名知意。可以起别名 AS， 字段名 as 别名  表名 as 别名</p></blockquote> <blockquote><p>去重 <code>distinct</code></p></blockquote> <p>作用：去除 SELECT查询出来的结果中重复的数据，重复的数据只显示一条</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询一下又哪些同学参加了考试，成绩</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> result <span class="token comment">-- 查询全部的考试的成绩</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span> <span class="token keyword">FROM</span> result <span class="token comment">-- 查询有哪些同学参加了考试</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> <span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span> <span class="token keyword">FROM</span> result <span class="token comment">-- 去重</span>
</code></pre></div><blockquote><p>数据库的列（表达式）</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 查询系统版本 （函数）</span>
<span class="token keyword">SELECT</span> <span class="token number">100</span><span class="token operator">*</span><span class="token number">3</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">AS</span> 计算结果 <span class="token comment">-- 计算结果 （表达式）</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@auto_increment_increment</span> <span class="token comment">-- 查询自增的步长 （变量）</span>
<span class="token comment">-- 学员考试成绩 + 1 分查看</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">AS</span> <span class="token string">'提分后'</span> <span class="token keyword">FROM</span> result
</code></pre></div><p>==数据库汇中表达式：文本值，列，Null，函数，计算表达式...==</p> <p>select ==表达式== from 表</p> <h3 id="where-条件子句"><a href="#where-条件子句" class="header-anchor">#</a> where 条件子句</h3> <p>作用：检索数据中==符合条件==的值</p> <p>搜索条件由一个或者多个表达式组成呢个，结果为布尔值</p> <blockquote><p>逻辑运算符</p></blockquote> <table><thead><tr><th>运算符</th> <th>语法</th> <th>描述</th></tr></thead> <tbody><tr><td>and  或者   &amp;&amp;</td> <td>a and b  或者 a &amp;&amp; b</td> <td>逻辑与，两者为真，结果为真</td></tr> <tr><td>or  或者  ||</td> <td>a or b  或者  a|| b</td> <td>逻辑或，其中一个为真，则结果为真</td></tr> <tr><td>Not  或者  !</td> <td>Not a  或者 !a</td> <td>逻辑非，真为假，假为真</td></tr></tbody></table> <p>==尽量使用英文字母==</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- ==================== where ================</span>

<span class="token comment">-- 查询考试成绩在 95-100之间</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token keyword">FROM</span> result
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token operator">&gt;=</span> <span class="token number">95</span> <span class="token operator">AND</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token operator">&lt;=</span> <span class="token number">100</span>

<span class="token comment">-- &amp;&amp;</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token keyword">FROM</span> result
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token operator">&gt;=</span> <span class="token number">95</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token operator">&lt;=</span> <span class="token number">100</span>

<span class="token comment">--  模糊查询（区间）</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token keyword">FROM</span> result
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token operator">BETWEEN</span> <span class="token number">90</span> <span class="token operator">AND</span> <span class="token number">100</span>

<span class="token comment">-- 除了1000号学生之外的同学的成绩</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token keyword">FROM</span> result
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span> <span class="token operator">!=</span> <span class="token number">1000</span>

<span class="token comment">-- Not</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token keyword">FROM</span> result
<span class="token keyword">WHERE</span> <span class="token operator">NOT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token number">1000</span>
</code></pre></div><blockquote><p>模糊查询：比较运算符</p></blockquote> <table><thead><tr><th>运算符</th> <th>语法</th> <th>描述</th></tr></thead> <tbody><tr><td>IS NULL</td> <td>a IS NULL</td> <td>如果操作符为null，则结果为真</td></tr> <tr><td>IS NOT NULL</td> <td>a IS NOT NULL</td> <td>如果操作符为not null，则结果为真</td></tr> <tr><td>BETWEEN</td> <td>a BETWEEN b AND c</td> <td>如果a在b和c之间，则为真</td></tr> <tr><td><strong>Like</strong></td> <td>a LIKE b</td> <td>SQl 匹配，如果a匹配b，则结果为真</td></tr> <tr><td><strong>In</strong></td> <td>a In (a1,a2,a3...)</td> <td>假设a在 a1,a2,a3...其中的某个值中，则结果为真</td></tr></tbody></table> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 模糊查询</span>

<span class="token comment">-- 查询姓赵的同学</span>
<span class="token comment">-- like结合 %(代表0到任意字符) _(一个字符)</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token operator">LIKE</span> <span class="token string">'赵%'</span>

<span class="token comment">-- 查询姓赵的同学，名字后面只有一个字的</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token operator">LIKE</span> <span class="token string">'赵_'</span>


<span class="token comment">-- 查询姓赵的同学，名字后面只有两个字的</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token operator">LIKE</span> <span class="token string">'赵__'</span>

<span class="token comment">-- 查询名字中间有嘉字的同学</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>	
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token operator">LIKE</span> <span class="token string">'%嘉%'</span>


<span class="token comment">-- ========= in(具体的一个或者多个值) ============</span>
<span class="token comment">-- 查询 1001,1002,1003 号学员 </span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span><span class="token number">1002</span><span class="token punctuation">,</span><span class="token number">1003</span><span class="token punctuation">)</span>

<span class="token comment">-- 查询在广东深圳的学生</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>address<span class="token punctuation">`</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'广东深圳'</span><span class="token punctuation">,</span><span class="token string">'北京朝阳'</span><span class="token punctuation">)</span>

<span class="token comment">-- ========== null not null================</span>
<span class="token comment">-- 查询地址为空的学生 null</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>address<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">''</span> <span class="token operator">OR</span> <span class="token punctuation">`</span>address<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>

<span class="token comment">-- 查询有出生日期的同学,不为空</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>borndate<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>

<span class="token comment">-- 查询没有出生日期的同学,为空</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>borndate<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre></div><h3 id="联表查询"><a href="#联表查询" class="header-anchor">#</a> 联表查询</h3> <blockquote><p>JOIN 对比</p></blockquote> <img src="/notes/assets/img/join.995d7d8d.png" style="zoom:80%;"> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- ==== 联表查询 ====</span>

<span class="token comment">-- 查询参加了考试的同学（学号，姓名，科目编号，分数）</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> result
<span class="token comment">/* 思路
1、分析需求，分析查询的字段来自哪些表（联表查询）
2、确定使用哪种连接查询？7这种
确定交叉点（这两个表中哪个数据是相同的）
判断的条件：学生表中的`studentno`=成绩表中的`studentno`
*/</span>

<span class="token comment">-- join （连接的表） on （判断的条件） 连接查询</span>
<span class="token comment">-- where  等值查询</span>

<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span><span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span>
<span class="token keyword">FROM</span> student <span class="token keyword">AS</span> s
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> result <span class="token keyword">AS</span> r
<span class="token keyword">WHERE</span> s<span class="token punctuation">.</span>studentno <span class="token operator">=</span> r<span class="token punctuation">.</span>studentno


<span class="token comment">-- right join</span>
<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span><span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span>
<span class="token keyword">FROM</span> student <span class="token keyword">AS</span> s
<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> result <span class="token keyword">AS</span> r
<span class="token keyword">ON</span> s<span class="token punctuation">.</span>studentno <span class="token operator">=</span> r<span class="token punctuation">.</span>studentno

<span class="token comment">-- left join</span>
<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span><span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span>
<span class="token keyword">FROM</span> student <span class="token keyword">AS</span> s
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> result <span class="token keyword">AS</span> r
<span class="token keyword">ON</span> s<span class="token punctuation">.</span>studentno <span class="token operator">=</span> r<span class="token punctuation">.</span>studentno


<span class="token comment">-- 查询缺考的同学</span>
<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span><span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span>
<span class="token keyword">FROM</span> student <span class="token keyword">AS</span> s
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> result <span class="token keyword">AS</span> r
<span class="token keyword">ON</span> s<span class="token punctuation">.</span>studentno <span class="token operator">=</span> r<span class="token punctuation">.</span>studentno
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre></div><table><thead><tr><th>操作</th> <th>描述</th></tr></thead> <tbody><tr><td>inner join</td> <td>如果表中至少有一个匹配，就返回行</td></tr> <tr><td>left join</td> <td>会从左表中返回所有的值，即使右表中没有匹配</td></tr> <tr><td>rigth join</td> <td>会从右表中返回所有的值，即使左表中没有匹配</td></tr></tbody></table> <blockquote><p>自连接（了解）</p></blockquote> <p>==自己的表和自己的表连接，核心：一张表拆为两张一样的表即可==</p> <p>父类</p> <table><thead><tr><th>categoryid</th> <th>categoryName</th></tr></thead> <tbody><tr><td>2</td> <td>信息技术</td></tr> <tr><td>3</td> <td>软件开发</td></tr> <tr><td>5</td> <td>美术设计</td></tr></tbody></table> <p>子类</p> <table><thead><tr><th></th> <th>categoryid</th> <th>categoryName</th></tr></thead> <tbody><tr><td>3</td> <td>4</td> <td>数据库</td></tr> <tr><td>2</td> <td>5</td> <td>办公信息</td></tr> <tr><td>3</td> <td>6</td> <td>web开发</td></tr> <tr><td>5</td> <td>7</td> <td>ps技术</td></tr></tbody></table> <p>操作：查询父类对应的子类关系</p> <table><thead><tr><th>父类</th> <th>子类</th></tr></thead> <tbody><tr><td>信息技术</td> <td>办公信息</td></tr> <tr><td>软件开发</td> <td>数据库、web开发</td></tr> <tr><td>美术设计</td> <td>ps技术</td></tr></tbody></table> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- ==============自连接===========</span>
<span class="token comment">-- 建表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>category<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>categoryid<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主题id'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pid<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'父id'</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>categoryName<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'主题名字'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>categoryid<span class="token punctuation">`</span><span class="token punctuation">)</span>  
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">9</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8

<span class="token comment">-- 插入数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>category<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>categoryid<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>pid<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>categoryName<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'信息技术'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'软件开发'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'数据库'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'美术设计'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'web开发'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'ps技术'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'办公信息'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 查询父子信息，将一张表看成两张一毛一样的表</span>
<span class="token keyword">SELECT</span> a<span class="token punctuation">.</span><span class="token punctuation">`</span>categoryName<span class="token punctuation">`</span> <span class="token keyword">AS</span> <span class="token string">'父栏目'</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span><span class="token punctuation">`</span>categoryName<span class="token punctuation">`</span> <span class="token keyword">AS</span> <span class="token string">'子栏目'</span>
<span class="token keyword">FROM</span> <span class="token punctuation">`</span>category<span class="token punctuation">`</span> <span class="token keyword">AS</span> a<span class="token punctuation">,</span> <span class="token punctuation">`</span>category<span class="token punctuation">`</span> <span class="token keyword">AS</span> b
<span class="token keyword">WHERE</span> a<span class="token punctuation">.</span><span class="token punctuation">`</span>categoryid<span class="token punctuation">`</span> <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token punctuation">`</span>categoryid<span class="token punctuation">`</span>
</code></pre></div><h3 id="分页和排序"><a href="#分页和排序" class="header-anchor">#</a> 分页和排序</h3> <blockquote><p>排序</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 分页 limit 和排序 order by</span>

<span class="token comment">-- 排序：升序 ASC， 降序 DESC</span>
<span class="token comment">-- order by 通过哪个字段排序，怎么排</span>

<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>StudentName<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>SubjectName<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span>
<span class="token keyword">FROM</span> student s
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>result<span class="token punctuation">`</span> r
<span class="token keyword">ON</span> s<span class="token punctuation">.</span><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span> <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span>
<span class="token keyword">INSERT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span> sub
<span class="token keyword">ON</span> r<span class="token punctuation">.</span><span class="token punctuation">`</span>SubjectNo<span class="token punctuation">`</span> <span class="token operator">=</span> sub<span class="token punctuation">.</span><span class="token punctuation">`</span>SubjectNo<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> SubjectName <span class="token operator">=</span> <span class="token string">'数据库结构-1'</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> StudentResult <span class="token keyword">ASC</span>

</code></pre></div><blockquote><p>分页</p></blockquote> <div class="language-sql extra-class"><pre class="language-sql"><code>
<span class="token comment">-- 分页</span>
<span class="token comment">-- 语法： limit 起始值，页面的大小</span>
<span class="token comment">-- LIMIT 0,5     1~5</span>
<span class="token comment">-- LIMIT 1,5     2~6</span>
<span class="token comment">-- (n-1) * pageSize , pageSize</span>
<span class="token comment">-- (当前页 - 1) * 页面大小</span>
<span class="token comment">-- 总页数：数据总数 / 页面大小 = 总页数 （向上取整）</span>
<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>StudentName<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>SubjectName<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>StudentResult<span class="token punctuation">`</span>
<span class="token keyword">FROM</span> student s
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>result<span class="token punctuation">`</span> r
<span class="token keyword">ON</span> s<span class="token punctuation">.</span><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span> <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token punctuation">`</span>StudentNo<span class="token punctuation">`</span>
<span class="token keyword">INSERT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span> sub
<span class="token keyword">ON</span> r<span class="token punctuation">.</span><span class="token punctuation">`</span>SubjectNo<span class="token punctuation">`</span> <span class="token operator">=</span> sub<span class="token punctuation">.</span><span class="token punctuation">`</span>SubjectNo<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> SubjectName <span class="token operator">=</span> <span class="token string">'数据库结构-1'</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> StudentResult <span class="token keyword">ASC</span>
<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span> 
</code></pre></div><p>==语法：limit(查询起止下标，pageSize)==</p> <h3 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h3> <p>本质：==在where语句中嵌套一个子查询语句==</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询数据库结构-1的所有考试结果（学号，科目，成绩）</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span>
<span class="token keyword">FROM</span> <span class="token punctuation">`</span>result<span class="token punctuation">`</span> 
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentno<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token comment">-- 查询数据库结构-1的所有学生学号</span>
  <span class="token keyword">SELECT</span> <span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span> 
  <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>subjectname<span class="token punctuation">`</span>
<span class="token punctuation">)</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span> <span class="token keyword">DESC</span>
</code></pre></div><h3 id="分组和过滤"><a href="#分组和过滤" class="header-anchor">#</a> 分组和过滤</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 查询不同课程的平均分，最高分，最低分，平均分大于80</span>
<span class="token comment">-- 核心（根据不同的课程分组）</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">`</span>subjectname<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> 平均分<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> result <span class="token keyword">AS</span> r
<span class="token keyword">INSERT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">`</span>subject<span class="token punctuation">`</span> <span class="token keyword">AS</span> sub
<span class="token keyword">ON</span> r<span class="token punctuation">.</span><span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span> <span class="token operator">=</span> sub<span class="token punctuation">.</span><span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> r<span class="token punctuation">.</span><span class="token punctuation">`</span>subjectno<span class="token punctuation">`</span> <span class="token comment">-- 通过指定字段分组</span>
<span class="token keyword">HAVING</span> 平均分 <span class="token operator">&gt;</span> <span class="token number">80</span>

</code></pre></div><h2 id="mysql函数"><a href="#mysql函数" class="header-anchor">#</a> MySql函数</h2> <p><a href="https://dev.mysql.com/doc/refman/8.0/en/func-op-summary-ref.html" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="基本函数"><a href="#基本函数" class="header-anchor">#</a> 基本函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- =======基础函数=======</span>

<span class="token comment">-- 数学运算</span>
<span class="token keyword">SELECT</span> ABS<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">-- 绝对值  8</span>
<span class="token keyword">SELECT</span> CEILING<span class="token punctuation">(</span><span class="token number">9.4</span><span class="token punctuation">)</span> <span class="token comment">-- 向上取整  10</span>
<span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token number">9.4</span><span class="token punctuation">)</span> <span class="token comment">-- 向下取整  9</span>
<span class="token keyword">SELECT</span> RAND<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 返回一个0~1之间的随机数</span>
<span class="token keyword">SELECT</span> SIGN<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">-- 判断一个数的符号 负数返回-1，整数返回1,0返回0</span>

<span class="token comment">-- 字符串函数</span>
<span class="token keyword">SELECT</span> CHAR_LENGTH<span class="token punctuation">(</span><span class="token string">'哈哈哈哈哈哈哈哈哈'</span><span class="token punctuation">)</span> <span class="token comment">-- 字符串长度</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'ha'</span><span class="token punctuation">,</span> <span class="token string">'h'</span><span class="token punctuation">,</span> <span class="token string">'h'</span><span class="token punctuation">)</span> <span class="token comment">-- 拼接字符串</span>
<span class="token keyword">SELECT</span> <span class="token keyword">INSERT</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'哈哈'</span><span class="token punctuation">)</span> <span class="token comment">-- 插入，替换 哈哈llo</span>
<span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">'hhhhhh'</span><span class="token punctuation">)</span> <span class="token comment">-- 转大写</span>
<span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">'HHHHHH'</span><span class="token punctuation">)</span> <span class="token comment">-- 转小写</span>
<span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">'hhhhhhahh'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">-- 返回第一次出现的字符串的索引 7 </span>
<span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token string">'hhahhhbh'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span> <span class="token comment">-- 替换出现的指定字符串 hhchhhbh</span>
<span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">'abcdefg'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">-- 返回指定的字符串  bcd (截取的位置，截取的长度)</span>
<span class="token keyword">SELECT</span> REVERSE<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span> <span class="token comment">-- 反转 654321</span>

<span class="token comment">-- 查询姓周的同学，将周改成邹</span>
<span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token punctuation">`</span>studentname<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token string">'周'</span><span class="token punctuation">,</span> <span class="token string">'邹'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span>
<span class="token keyword">WHERE</span> <span class="token punctuation">`</span>studentname<span class="token punctuation">`</span> <span class="token operator">LIKE</span> <span class="token string">'周%'</span>

<span class="token comment">-- 时间和日期函数 （记住）</span>
<span class="token keyword">SELECT</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 获取当前日期 2020-06-20</span>
<span class="token keyword">SELECT</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 获取当前日期 2020-06-20</span>
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 获取当前的时间 2020-06-20 11:34:31</span>
<span class="token keyword">SELECT</span> LOCALTIME<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 本地时间 2020-06-20 11:35:17</span>
<span class="token keyword">SELECT</span> SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 系统时间 2020-06-20 11:35:29</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 年 </span>
<span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 月 </span>
<span class="token keyword">SELECT</span> <span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 日 </span>
<span class="token keyword">SELECT</span> <span class="token keyword">HOUR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 时 </span>
<span class="token keyword">SELECT</span> <span class="token keyword">MINUTE</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 分 </span>
<span class="token keyword">SELECT</span> <span class="token keyword">SECOND</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 秒</span>

<span class="token comment">-- 系统</span>
<span class="token keyword">SELECT</span> <span class="token keyword">SYSTEM_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- root@localhost</span>
<span class="token keyword">SELECT</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 同上</span>
<span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- 版本 8.0.20</span>
</code></pre></div><h3 id="聚合函数-常用"><a href="#聚合函数-常用" class="header-anchor">#</a> 聚合函数（常用）</h3> <table><thead><tr><th>函数名称</th> <th>描述</th></tr></thead> <tbody><tr><td>COUNT()</td> <td>计数</td></tr> <tr><td>SUM()</td> <td>求和</td></tr> <tr><td>AVG()</td> <td>平均值</td></tr> <tr><td>MIN()</td> <td>最大值</td></tr> <tr><td>MAX()</td> <td>最小值</td></tr></tbody></table> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- ==========聚合函数=========</span>

<span class="token comment">-- 一下三种都能狗统计表中的数据 (想查询一个表中有多少个记录，就使用count())</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>studentname<span class="token punctuation">)</span> <span class="token keyword">FROM</span> student <span class="token comment">-- COUNT(字段) 会忽略所有的null值</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> student <span class="token comment">-- COUNT(*) 不忽略null值  </span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> student <span class="token comment">-- COUNT(1) 不忽略null值  </span>

<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'总和'</span> <span class="token keyword">FROM</span> result
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'平均分'</span> <span class="token keyword">FROM</span> result
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'最高分'</span> <span class="token keyword">FROM</span> result
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span><span class="token punctuation">`</span>studentresult<span class="token punctuation">`</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'最低分'</span> <span class="token keyword">FROM</span> result

</code></pre></div><h3 id="数据库级别的md5加密-扩展"><a href="#数据库级别的md5加密-扩展" class="header-anchor">#</a> 数据库级别的MD5加密（扩展）</h3> <p>什么是md5？</p> <p>主要增强算法复杂度和==不可逆性==</p> <p>md5破解网站的原理，背后有一个字典存放MD5加密后的值 和加密前的值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- =====测试md5加密====</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>testmd5<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pwd<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8

<span class="token comment">-- 明文</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>testmd5<span class="token punctuation">`</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span>

<span class="token comment">-- 加密</span>
<span class="token keyword">UPDATE</span> testmd5 <span class="token keyword">SET</span> pwd<span class="token operator">=</span>MD5<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">UPDATE</span> testmd5 <span class="token keyword">SET</span> pwd<span class="token operator">=</span>MD5<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span> <span class="token comment">-- 加密全部密码</span>

<span class="token comment">-- 插入的时候加密</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>testmd5<span class="token punctuation">`</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">,</span> MD5<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">-- 如何校验：将用户传递进来的密码进行md5加密，然后比对加密后的值</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span>  <span class="token keyword">FROM</span> <span class="token punctuation">`</span>testmd5<span class="token punctuation">`</span> <span class="token keyword">WHERE</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span><span class="token operator">=</span><span class="token string">'王五'</span> <span class="token operator">AND</span> <span class="token punctuation">`</span>pwd<span class="token punctuation">`</span><span class="token operator">=</span>MD5<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="事务"><a href="#事务" class="header-anchor">#</a> 事务</h2> <h3 id="什么是事务"><a href="#什么是事务" class="header-anchor">#</a> 什么是事务</h3> <p>==要么都成功，要么都失败==</p> <p>——————</p> <p>1、SQL执行 A 给 B 转账  A:1000,  b:200   转200</p> <p>2、SQL执行 B 收到 A 的钱 A: 800, b:400</p> <p>——————</p> <p>将一组SQL放在一个批次中去执行</p> <blockquote><p>事务原则：ACID原则     原子性，一致性，隔离性，持久性 （脏读，幻读）</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">6/20/2020, 12:45:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/database/" class="prev router-link-active">
        目录
      </a></span> <span class="next"><a href="/notes/interview/">
        介绍
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/notes/assets/js/app.e0e3d082.js" defer></script><script src="/notes/assets/js/2.0959374c.js" defer></script><script src="/notes/assets/js/7.20e9b0e0.js" defer></script>
  </body>
</html>
